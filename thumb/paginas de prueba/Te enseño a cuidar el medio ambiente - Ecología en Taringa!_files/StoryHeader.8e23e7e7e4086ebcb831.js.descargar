(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[96],{"2ddO":function(e,t,r){"use strict";var a,n=(a=r("q1tI"))&&"object"==typeof a&&"default"in a?a.default:a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},l=function(e){var t=e.color,r=void 0===t?"currentColor":t,a=e.size,l=void 0===a?24:a,s=(e.children,function(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}(e,["color","size","children"])),i="mdi-icon "+(s.className||"");return n.createElement("svg",o({},s,{className:i,width:l,height:l,fill:r,viewBox:"0 0 24 24"}),n.createElement("path",{d:"M7,14.94L13.06,8.88L15.12,10.94L9.06,17H7V14.94M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M16.7,9.35L15.7,10.35L13.65,8.3L14.65,7.3C14.86,7.08 15.21,7.08 15.42,7.3L16.7,8.58C16.92,8.79 16.92,9.14 16.7,9.35M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2"}))},s=n.memo?n.memo(l):l;e.exports=s},"7Pqi":function(e,t,r){"use strict";var a,n=(a=r("q1tI"))&&"object"==typeof a&&"default"in a?a.default:a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},l=function(e){var t=e.color,r=void 0===t?"currentColor":t,a=e.size,l=void 0===a?24:a,s=(e.children,function(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}(e,["color","size","children"])),i="mdi-icon "+(s.className||"");return n.createElement("svg",o({},s,{className:i,width:l,height:l,fill:r,viewBox:"0 0 24 24"}),n.createElement("path",{d:"M10,16L5,11L6.41,9.58L10,13.17L17.59,5.58L19,7M19,1H5C3.89,1 3,1.89 3,3V15.93C3,16.62 3.35,17.23 3.88,17.59L12,23L20.11,17.59C20.64,17.23 21,16.62 21,15.93V3C21,1.89 20.1,1 19,1Z"}))},s=n.memo?n.memo(l):l;e.exports=s},"9q4B":function(e,t,r){"use strict";var a,n=(a=r("q1tI"))&&"object"==typeof a&&"default"in a?a.default:a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},l=function(e){var t=e.color,r=void 0===t?"currentColor":t,a=e.size,l=void 0===a?24:a,s=(e.children,function(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}(e,["color","size","children"])),i="mdi-icon "+(s.className||"");return n.createElement("svg",o({},s,{className:i,width:l,height:l,fill:r,viewBox:"0 0 24 24"}),n.createElement("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"}))},s=n.memo?n.memo(l):l;e.exports=s},J6Bq:function(e,t,r){"use strict";var a=r("284h"),n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=O;var o=n(r("lSNA")),l=a(r("q1tI")),s=n(r("TSYQ")),i=n(r("17x9")),u=r("2nxe"),c=r("mhJL"),d=r("RLaN"),f=r("5bzu"),p=n(r("kl6u")),m=r("qawd"),h=n(r("m8GG")),v=n(r("kqG7")),y=n(r("dBtd"));function b(e){var t=e.children,r=e.className;return l.default.createElement("div",{className:(0,s.default)(r,y.default.ghost_link)},t)}function O(e,t){var r=e.owner,a=e.ownerCanonical,n=t.translate,i=(0,c.useAvatar)(null==r?void 0:r.avatar),O=(0,l.useCallback)((function(e,t){return(0,u.isGhost)(r)?l.default.createElement(b,{className:(0,s.default)(y.default.container,(0,o.default)({},y.default.container_spacing,t)),title:(null==r?void 0:r.verified)?n("user.verified"):null==r?void 0:r.username,to:a},e):l.default.createElement(f.Link,{className:(0,s.default)(y.default.container,(0,o.default)({},y.default.container_spacing,t)),title:(null==r?void 0:r.verified)?n("user.verified"):null==r?void 0:r.username,to:a},e)}),[r,a,n]),w=(0,l.useMemo)((function(){var e=(0,d.getGamificationInfo)(r),t=e.frameSrc,a=e.frameType,n=e.frameRank,o=e.frameGrade,s=e.animatedFrameSrc;return l.default.createElement(p.default,{type:a,src:i,rank:n,grade:o,size:m.AvatarSize.XSMALL,frameSrc:t,animationSrc:s})}),[i,r]);return l.default.createElement(l.default.Fragment,null,l.default.createElement(v.default,{username:null==r?void 0:r.username},O(w)),O(l.default.createElement(h.default,{user:r}),!0))}b.defaultProps={className:""},O.contextTypes={translate:i.default.func.isRequired},e.exports=t.default},KPXd:function(e,t,r){"use strict";var a=r("TqRt"),n=r("284h");r("ma9I"),r("rB9j"),r("UxlC"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,l,s,i=a(r("lwsE")),u=a(r("W8MJ")),c=a(r("PJYZ")),d=a(r("7W2i")),f=a(r("a1gu")),p=a(r("Nsbk")),m=a(r("lSNA")),h=a(r("17x9")),v=n(r("q1tI")),y=r("/MKj"),b=r("ANjH"),O=a(r("yKMz")),w=a(r("sOmf")),E=a(r("JcJc")),g=a(r("RI0Z")),x=a(r("iR/t")),M=a(r("F0Fy")),j=a(r("o58I")),L=n(r("Sazc")),N=r("2nxe"),P=r("tkci"),C=r("1xvO"),S=a(r("7Pqi")),A=a(r("2ddO")),V=a(r("qs5E")),H=a(r("9q4B")),q=a(r("dBA7")),_=a(r("J6Bq")),z=r("RGOY"),D=a(r("wR8L")),I=a(r("TO0k")),R=a(r("E1k5"));function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=(0,p.default)(e);if(t){var n=(0,p.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,f.default)(this,r)}}var k=(0,y.connect)((function(e,t){return{owner:e.entities.users.data[t.story.owner]}}),(function(e){return(0,b.bindActionCreators)({storyDelete:j.default,follow:z.follow,unfollow:z.unfollow},e)}))((s=l=function(e){(0,d.default)(r,e);var t=B(r);function r(){var e;(0,i.default)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),(0,m.default)((0,c.default)(e),"state",{deleteModalVisible:!1}),(0,m.default)((0,c.default)(e),"canDelete",(function(){var t=e.props,r=t.user,a=t.owner,n=t.story;return r&&n.active&&(L.userCanDeleteStory(r,a.id,e.props.channelOwnerUsername)||e.isModerator())})),(0,m.default)((0,c.default)(e),"canEdit",(function(){var t=e.props,r=t.user,a=t.owner,n=t.story;return r&&!n.classic&&L.userCanEditStory(r,a.id,n)})),(0,m.default)((0,c.default)(e),"isModerator",(function(){var t=e.props,r=t.user,a=t.story;return r&&a&&"moderator"===a.channel.state.subscription})),(0,m.default)((0,c.default)(e),"handleShowDeleteStoryModal",(function(){(L.isModerator(e.props.user)||e.isModerator())&&e.props.user.username!==e.props.owner.username?e.setState({deleteModalVisible:!0}):(0,P.showDeleteStoryModal)(e.context.store.dispatch,e.context.translate,e.props.story,e.handleDeleted)})),(0,m.default)((0,c.default)(e),"hideDeleteModal",(function(){e.setState({deleteModalVisible:!1})})),(0,m.default)((0,c.default)(e),"canSuspendUser",(function(){var t=e.props,r=t.user,a=t.owner;return L.canSuspendUser(r,a)})),(0,m.default)((0,c.default)(e),"showSuspendModal",(function(){e.setState({suspendModalVisible:!0})})),(0,m.default)((0,c.default)(e),"hideSuspendModal",(function(){e.setState({suspendModalVisible:!1})})),(0,m.default)((0,c.default)(e),"handleSuspended",(function(){e.hideSuspendModal()})),(0,m.default)((0,c.default)(e),"handleDeleted",(function(){e.props.user.username===e.props.owner.username&&e.context.history.replace(e.props.channelCanonical)})),(0,m.default)((0,c.default)(e),"renderEditedTooltip",(function(){return v.default.createElement(O.default,{className:R.default.header_edited,date:e.props.story.edited,suffix:"".concat(e.context.translate("edited"),": ")})})),e}return(0,u.default)(r,[{key:"render",value:function(){var e=this.props,t=e.story,r=e.storyCanonical,a=e.handleEdit,n=e.owner,o=e.ownerCanonical,l=e.user;return v.default.createElement("div",{className:R.default.header},v.default.createElement(_.default,{owner:n,ownerCanonical:o,header:!0}),v.default.createElement(E.default,{nsfw:t.nsfw}),!(0,N.isGhost)(n)&&n.state&&l&&l.username!==n.username&&v.default.createElement(w.default,{subscribe:this.props.follow,unsubscribe:this.props.unfollow,name:n.username,subscribed:Boolean(n.state.following),className:R.default.header_subscribe,small:!0}),v.default.createElement("div",{className:R.default.header_aligner}),t.brandSafe&&v.default.createElement(v.default.Fragment,null,v.default.createElement("div",{className:R.default.header_buttons},v.default.createElement(C.IconPrimary,{hover:!0,icon:S.default,size:16})),v.default.createElement("span",{className:R.default.header_separator}," - ")),v.default.createElement(I.default,{story:t,storyCanonical:r}),null!==t.visits&&v.default.createElement(D.default,{value:t.visits}),v.default.createElement("div",{className:R.default.header_button_tools},t.edited&&v.default.createElement(v.default.Fragment,null,v.default.createElement("span",{className:R.default.header_separator}," - "),v.default.createElement(M.default,{message:this.renderEditedTooltip()},v.default.createElement(C.IconPrimary,{hover:!0,icon:A.default,size:16}))),this.canEdit()&&v.default.createElement(M.default,{message:this.context.translate("edit")},v.default.createElement(C.IconPrimary,{hover:!0,onClick:a,icon:V.default,size:16})),this.canDelete()&&v.default.createElement(M.default,{message:this.context.translate("delete")},v.default.createElement(C.IconPrimary,{hover:!0,onClick:this.handleShowDeleteStoryModal,icon:H.default,size:16})),this.canSuspendUser()&&v.default.createElement(M.default,{message:this.context.translate("suspend")},v.default.createElement(C.IconPrimary,{hover:!0,onClick:this.showSuspendModal,icon:q.default,size:16}))),this.state.suspendModalVisible&&v.default.createElement(g.default,{user:this.props.owner,onHide:this.hideSuspendModal,success:this.handleSuspended,error:this.handleSuspended}),this.state.deleteModalVisible&&v.default.createElement(x.default,{story:this.props.story,user:this.props.user,onClose:this.hideDeleteModal,onDelete:this.handleDeleted,channelCanonical:this.props.channelCanonical}))}}]),r}(v.Component),(0,m.default)(l,"contextTypes",{translate:h.default.func.isRequired,store:h.default.object.isRequired,history:h.default.any.isRequired}),o=s))||o;t.default=k,e.exports=t.default},dBA7:function(e,t,r){"use strict";var a,n=(a=r("q1tI"))&&"object"==typeof a&&"default"in a?a.default:a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},l=function(e){var t=e.color,r=void 0===t?"currentColor":t,a=e.size,l=void 0===a?24:a,s=(e.children,function(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}(e,["color","size","children"])),i="mdi-icon "+(s.className||"");return n.createElement("svg",o({},s,{className:i,width:l,height:l,fill:r,viewBox:"0 0 24 24"}),n.createElement("path",{d:"M10,4A4,4 0 0,1 14,8A4,4 0 0,1 10,12A4,4 0 0,1 6,8A4,4 0 0,1 10,4M10,14C14.42,14 18,15.79 18,18V20H2V18C2,15.79 5.58,14 10,14M20,12V7H22V12H20M20,16V14H22V16H20Z"}))},s=n.memo?n.memo(l):l;e.exports=s},qs5E:function(e,t,r){"use strict";var a,n=(a=r("q1tI"))&&"object"==typeof a&&"default"in a?a.default:a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},l=function(e){var t=e.color,r=void 0===t?"currentColor":t,a=e.size,l=void 0===a?24:a,s=(e.children,function(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}(e,["color","size","children"])),i="mdi-icon "+(s.className||"");return n.createElement("svg",o({},s,{className:i,width:l,height:l,fill:r,viewBox:"0 0 24 24"}),n.createElement("path",{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"}))},s=n.memo?n.memo(l):l;e.exports=s},sOmf:function(e,t,r){"use strict";var a=r("284h"),n=r("TqRt");r("sMBO"),r("yWo2"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var o=n(r("lSNA")),l=n(r("17x9")),s=a(r("q1tI")),i=n(r("Jc7N")),u=n(r("wf34")),c=n(r("xtEe"));function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){var r=e.small,a=e.name,n=e.subscribed,o=e.className,l=e.subscribe,d=e.unsubscribe,p=t.translate,m=(0,s.useMemo)((function(){return r?"13px":"18px"}),[r]),h=(0,s.useMemo)((function(){return n?{icon:c.default,text:p("user.about.following")}:{icon:u.default,text:p("user.about.follow"),inverted:!0}}),[n]),v=(0,s.useMemo)((function(){return f(f({},h),{},{iconSize:m,className:o,small:r})}),[h,m,o,r,n]);return s.default.createElement(i.default,{btnProps:v,name:a,action:n?d:l})}p.contextTypes={translate:l.default.func.isRequired},e.exports=t.default},tRQI:function(e,t,r){"use strict";var a,n=(a=r("q1tI"))&&"object"==typeof a&&"default"in a?a.default:a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},l=function(e){var t=e.color,r=void 0===t?"currentColor":t,a=e.size,l=void 0===a?24:a,s=(e.children,function(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}(e,["color","size","children"])),i="mdi-icon "+(s.className||"");return n.createElement("svg",o({},s,{className:i,width:l,height:l,fill:r,viewBox:"0 0 24 24"}),n.createElement("path",{d:"M22,21H2V3H4V19H6V10H10V19H12V6H16V19H18V14H22V21Z"}))},s=n.memo?n.memo(l):l;e.exports=s},wR8L:function(e,t,r){"use strict";var a=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r("q1tI")),o=a(r("17x9")),l=r("1xvO"),s=a(r("tRQI")),i=a(r("F0Fy"));function u(e,t){return n.default.createElement(i.default,{message:t.translate("visits")},n.default.createElement(l.IconPrimary,{className:e.className,hover:e.hover,icon:s.default,size:16,children:e.value}))}u.defaultProps={className:"",hover:!0},u.contextTypes={translate:o.default.func.isRequired};var c=u;t.default=c,e.exports=t.default},wf34:function(e,t,r){"use strict";var a,n=(a=r("q1tI"))&&"object"==typeof a&&"default"in a?a.default:a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},l=function(e){var t=e.color,r=void 0===t?"currentColor":t,a=e.size,l=void 0===a?24:a,s=(e.children,function(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}(e,["color","size","children"])),i="mdi-icon "+(s.className||"");return n.createElement("svg",o({},s,{className:i,width:l,height:l,fill:r,viewBox:"0 0 24 24"}),n.createElement("path",{d:"M15,14C12.33,14 7,15.33 7,18V20H23V18C23,15.33 17.67,14 15,14M6,10V7H4V10H1V12H4V15H6V12H9V10M15,12A4,4 0 0,0 19,8A4,4 0 0,0 15,4A4,4 0 0,0 11,8A4,4 0 0,0 15,12Z"}))},s=n.memo?n.memo(l):l;e.exports=s},xtEe:function(e,t,r){"use strict";var a,n=(a=r("q1tI"))&&"object"==typeof a&&"default"in a?a.default:a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},l=function(e){var t=e.color,r=void 0===t?"currentColor":t,a=e.size,l=void 0===a?24:a,s=(e.children,function(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}(e,["color","size","children"])),i="mdi-icon "+(s.className||"");return n.createElement("svg",o({},s,{className:i,width:l,height:l,fill:r,viewBox:"0 0 24 24"}),n.createElement("path",{d:"M21.1,12.5L22.5,13.91L15.97,20.5L12.5,17L13.9,15.59L15.97,17.67L21.1,12.5M10,17L13,20H3V18C3,15.79 6.58,14 11,14L12.89,14.11L10,17M11,4A4,4 0 0,1 15,8A4,4 0 0,1 11,12A4,4 0 0,1 7,8A4,4 0 0,1 11,4Z"}))},s=n.memo?n.memo(l):l;e.exports=s}}]);
//# sourceMappingURL=StoryHeader.8e23e7e7e4086ebcb831.js.map